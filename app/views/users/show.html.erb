<% provide(:title, "Profile") %>
<div>
	<%= @user.first_name + " " + @user.last_name %>
</div>
<div>
	<%= @user.email %>
</div>

<div>
	<%= image_tag @user.picture.url if @user.picture? %>
</div>

<hr>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => {:method => :put, :multipart => true} ) do |f| %>
	<%= devise_error_messages! %><!--Check to make sure this works-->
		
		<div class="picture">
			<%= f.label :picture %><br />
			<%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
			<%= f.hidden_field :picture_cache %>
		</div>
		
	  <div class="actions">
	    <%= f.submit "Update" %>
	  </div>
<% end %>

<script type="text/javascript">
  $('#picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    }
  });
</script>
